<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="format-detection" content="telephone=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="theme-color" content="#ffffff">
  <link rel="manifest" href="/manifest.json?v=2.1.1">
  <link rel="icon" href="/assets/icons/icon-16x16.png?v=2.1.1" type="image/png" sizes="16x16">
  <link rel="icon" href="/assets/icons/icon-32x32.png?v=2.1.1" type="image/png" sizes="32x32">
  <link rel="apple-touch-icon" href="/assets/icons/apple-touch-icon.png?v=2.1.1" sizes="180x180">
  <link rel="mask-icon" href="/assets/icons/safari-pinned-tab.svg?v=2.1.1" color="#54bcff">
  <meta name="msapplication-TileImage" content="/assets/icons/icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
  <meta name="google-site-verification" content="_dxRdKposlAngL4xRoCTrJu0sZ7Pp_RhlBF9inxcD5w">
  <meta name="msvalidate.01" content="6A508F795A82FADAC671AFCB9848929F">
  <meta name="baidu-site-verification" content="UYjZUCoORR">
  <meta name="360-site-verification" content="b926bfcb0e6034f32ac4700700a812f5">
  <meta name="sogou_site_verification" content="hbRL4tRKAg">
  <meta name="description"
    content="2019 年，我在 Github 上开源了自己的第一个开源项目 hexo-theme-stun，它是一个基于 Hexo 框架的博客主题。值得庆幸的是，在维护期间，有许多 Github 用户为这个项目贡献了 Pull Request。">
  <meta name="keywords" content="Github,Git,Pull Request">
  <meta property="og:type" content="article">
  <meta property="og:title" content="优雅地修改他人贡献的 Pull Request">
  <meta property="og:url" content="https://liuyib.github.io/2020/09/19/add-commits-to-others-pr/">
  <meta property="og:site_name" content="wuju&#39;s Blog">
  <meta property="og:description"
    content="2019 年，我在 Github 上开源了自己的第一个开源项目 hexo-theme-stun，它是一个基于 Hexo 框架的博客主题。值得庆幸的是，在维护期间，有许多 Github 用户为这个项目贡献了 Pull Request。">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:image"
    content="https://liuyib.github.io/assets/posts/add-commits-to-others-pr/pr-meta-info-branch.png">
  <meta property="og:image"
    content="https://liuyib.github.io/assets/posts/add-commits-to-others-pr/add-commit-to-others-pr.png">
  <meta property="og:image"
    content="https://liuyib.github.io/assets/posts/add-commits-to-others-pr/vscode-built-in-git-ui.png">
  <meta property="og:image"
    content="https://liuyib.github.io/assets/posts/add-commits-to-others-pr/vscode-plugins-gitlens-add-remote.png">
  <meta property="og:image"
    content="https://liuyib.github.io/assets/posts/add-commits-to-others-pr/vscode-plugins-gitlens-fetch-others.png">
  <meta property="og:image"
    content="https://liuyib.github.io/assets/posts/add-commits-to-others-pr/vscode-plugins-gitlens-switch-branch-to-others.png">
  <meta property="og:image"
    content="https://liuyib.github.io/assets/posts/add-commits-to-others-pr/vscode-built-in-git-ui-add-commit.png">
  <meta property="og:image"
    content="https://liuyib.github.io/assets/posts/add-commits-to-others-pr/vscode-plugins-gitlens-push.png">
  <meta property="og:image"
    content="https://liuyib.github.io/assets/posts/add-commits-to-others-pr/github-pr-files-changed-edit-file.png">
  <meta property="og:updated_time" content="2020-10-04T08:35:34.861Z">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image"
    content="https://liuyib.github.io/assets/posts/add-commits-to-others-pr/pr-meta-info-branch.png">
  <title>SQL | wuju's Blog</title>
  <link ref="canonical" href="https://liuyib.github.io/2020/09/19/add-commits-to-others-pr/">
  <link rel="alternate" href="/atom.xml" type="application/atom+xml">
  <link rel="stylesheet" href="static1/css/all.min.css" type="text/css">
  <link rel="stylesheet" href="static1/css/index.css">
  <script src="static1/js/adsbygoogle.js" data-ad-client="ca-pub-2577876740331235" async="" data-pjax=""></script>
  <script src="static/js/791ae5aab4364aa389598c7e63e34664.js" async="" data-pjax=""></script>
  <script data-pjax="">if (window.location.hostname !== 'localhost') {
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());
      gtag('config', 'UA-146413033-1');
    }</script>
  <script>var _hmt = _hmt || [];
    (function () {
      var hm = document.createElement('script');
      hm.src = 'https://hm.baidu.com/hm.js?2be584e2ddc153d81489b57ba106c8c0';
      hm.async = true;

      if (true) {
        hm.setAttribute('data-pjax', '');
      }
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(hm, s);
    })();</script>
  <script>(function () {
      var hm = document.createElement('script');
      hm.src = 'https://tajs.qq.com/stats?sId=66465986';
      hm.async = true;

      if (true) {
        hm.setAttribute('data-pjax', '');
      }
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(hm, s);
    })();</script>
  <script>var Stun = window.Stun || {};
    var CONFIG = {
      root: '/',
      algolia: undefined,
      fontIcon: { "prompt": { "success": "fas fa-check-circle", "info": "fas fa-arrow-circle-right", "warning": "fas fa-exclamation-circle", "error": "fas fa-times-circle" }, "copyBtn": "fas fa-copy" },
      sidebar: { "offsetTop": "20px", "tocMaxDepth": 4 },
      header: { "enable": true, "showOnPost": true, "scrollDownIcon": true },
      postWidget: { "endText": true },
      nightMode: { "enable": true },
      back2top: { "enable": true },
      codeblock: { "style": "carbon", "highlight": "light", "wordWrap": false },
      reward: true,
      fancybox: false,
      zoomImage: { "gapAside": "20px" },
      galleryWaterfall: { "colWidth": "220px", "gapX": "10px" },
      lazyload: true,
      pjax: { "avoidBanner": true },
      externalLink: { "icon": { "enable": true, "name": "fas fa-external-link-alt" } },
      shortcuts: { "switchPost": true },
      prompt: { "copyButton": "复制", "copySuccess": "复制成功", "copyError": "复制失败" },
      sourcePath: { "js": "js", "css": "css", "images": "images" },
    };

    window.CONFIG = CONFIG;</script>
  <style>
    .red {
      color: red;
    }

    .font {
      font-size: 14px;
    }

    .sj {
      text-indent: 2em;
    }
  </style>
</head>

<body>
  <div class="container" id="container">
    <header class="header" id="header">
      <div class="header-inner">
        <nav class="header-nav header-nav--fixed">
          <div class="header-nav-inner">
            <div class="header-nav-menubtn"><i class="fas fa-bars"></i></div>
            <div class="header-nav-menu">
              <div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span
                    class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span
                    class="header-nav-menu-item__text">首页</span></a></div>
              <div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="javascript:;"
                  onclick="return false;"><span class="header-nav-menu-item__icon"><i
                      class="fas fa-feather-alt"></i></span><span class="header-nav-menu-item__text">文章</span></a>
                <div class="header-nav-submenu">
                  <div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/archives/"><span
                        class="header-nav-submenu-item__icon"><i class="fas fa-folder-open"></i></span><span
                        class="header-nav-submenu-item__text">归档</span></a></div>
                  <div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link"
                      href="/categories/"><span class="header-nav-submenu-item__icon"><i
                          class="fas fa-layer-group"></i></span><span
                        class="header-nav-submenu-item__text">分类</span></a></div>
                  <div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/tags/"><span
                        class="header-nav-submenu-item__icon"><i class="fas fa-tags"></i></span><span
                        class="header-nav-submenu-item__text">标签</span></a></div>
                </div>
              </div>
              <div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="javascript:;"
                  onclick="return false;"><span class="header-nav-menu-item__icon"><i
                      class="fas fa-flask"></i></span><span class="header-nav-menu-item__text">实验室</span></a>
                <div class="header-nav-submenu">
                  <div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link"
                      href="https://github.com/liuyib/hexo-theme-stun" target="_blank" rel="noopener"><span
                        class="header-nav-submenu-item__text">🦄 Stun</span></a></div>
                </div>
              </div>
              <div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="javascript:;"
                  onclick="return false;"><span class="header-nav-menu-item__icon"><i
                      class="fas fa-fingerprint"></i></span><span class="header-nav-menu-item__text">关于</span></a>
                <div class="header-nav-submenu">
                  <div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/about/"><span
                        class="header-nav-submenu-item__icon"><i class="fas fa-user"></i></span><span
                        class="header-nav-submenu-item__text">作者</span></a></div>
                  <div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/reprint/"><span
                        class="header-nav-submenu-item__icon"><i class="fas fa-reply"></i></span><span
                        class="header-nav-submenu-item__text">转载</span></a></div>
                </div>
              </div>
              <div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="javascript:;"
                  onclick="return false;"><span class="header-nav-menu-item__icon"><i
                      class="fas fa-angle-double-down"></i></span><span class="header-nav-menu-item__text">其他</span></a>
                <div class="header-nav-submenu">
                  <div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/gallery/"><span
                        class="header-nav-submenu-item__icon"><i class="fas fa-images"></i></span><span
                        class="header-nav-submenu-item__text">相册</span></a></div>
                  <div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/friends/"><span
                        class="header-nav-submenu-item__icon"><i class="fas fa-hand-spock"></i></span><span
                        class="header-nav-submenu-item__text">友链</span></a></div>
                </div>
              </div>
            </div>
            <div class="header-nav-search"><span class="header-nav-search__icon"><i
                  class="fas fa-search"></i></span><span class="header-nav-search__text">搜索</span></div>
            <div class="header-nav-mode">
              <div class="mode">
                <div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div>
                <div class="mode-thumb"></div>
              </div>
            </div>
          </div>
        </nav>
        <div class="header-banner"
          style="background: url(static/images/add-commits-to-others-pr.png) no-repeat center/cover;">
          <div class="header-banner-info">
            <div class="header-banner-info__title">wuju's Blog</div>
            <div class="header-banner-info__subtitle">write code and love life</div>
          </div>
          <div class="header-banner-arrow">
            <div class="header-banner-arrow__icon"><i class="fas fa-angle-down"></i></div>
          </div>
        </div>
      </div>
    </header>
    <main class="main" id="main">
      <div class="main-inner">
        <div class="content-wrap" id="content-wrap">
          <div class="content" id="content">
            <!-- Just used to judge whether it is an article page-->
            <div id="is-post"></div>
            <div class="post">
              <header class="post-header">
                <h1 class="post-title">SQL</h1>
                <div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span
                      class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span
                      class="post-meta-item__info">发表于</span><span
                      class="post-meta-item__value">2020-10-14</span></span><span
                    class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i
                        class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span
                      class="post-meta-item__value">2020-10-14</span></span><span
                    class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i
                        class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span
                      class="post-meta-item__value">9.4k</span></span><span
                    class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i
                        class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span
                      class="post-meta-item__value">60分</span></span><span
                    class="post-meta-item post-meta-item--visitors"><span class="post-meta-item__icon"><i
                        class="fas fa-eye"></i></span><span class="post-meta-item__info">阅读次数</span><span
                      class="post-meta-item__value" id="busuanzi_value_page_pv"></span></span></div>
              </header>
              <div class="post-body">
                <p><strong>什么是SQL？</strong> </p>


                <p>SQL, 全称为Structured Query Language（结构化查询语言)。
                  要讲SQL就绕不开database(数据库), 平时所说的数据库，一般就是指的 Relational database(关系型数据库)。</p>
                <p>数据库是用来存储大量数据的一种软件，那么SQL呢是用来操作数据里的数据，具体来说SQL可以做数据查询，数据更新，写入数据等等。
                  如果把数据库比作盘子，那数据就是盘子里的菜，SQL则是你的筷子。</p>

                <p>因为SQL和数据库是天生的一对，又相对简单，目前世界上大部分网站和APP背后的数据都是建立在SQL数据库基础之上。</p>
                <p>
                <blockquote>
                  <h5>有哪些流行的数据库？</h5>
                  一些数据库比如 SQLite, MySQL, Postgres, Oracle 和 Microsoft SQL Server。
                  这几个数据库(可以理解为软件)是目前比较流行的一些数据库。所有这些数据库都支持标准的 SQL，
                  换句话说,你学会了SQL就可以对这些数据库做数据操作了！
                  当然上面的每一种数据库都有自己的特性和适用范围（想象一下你家有不同尺寸的盘子)。
                </blockquote>
                </p>


                <p><strong>关系型数据库</strong> </p>
                <p>数据库由若干张表(Table)组成，这里说的数据Table很像Excel里的表; 正如Excel里的表格，Table也是由 行(rows)和列(columns)组成

                  一个Table存储一个类别的数据，每一行是一条数据，每一列是这种数据的一个属性； Table就像一个二维的表格，列(columns)是有限固定的，行(rows)是无限不固定的</p>

                <h2 id="简单查询">
                  <a href="#简单查询" class="heading-link"><i class="fas fa-link"></i></a>简单查询</h2>


                <p>最常见的一种查询就是取出表中的 一个或某几个属性列（注意：是所有数据的某几个属性列）
                <blockquote>
                  Select 查询某些属性列（specific columns）的语法：<br>
                  SELECT column（列名）, another_column, …<br>
                  FROM mytable（表名）;
                </blockquote>
                </p>
                <p>我们想取出所有列的数据, 当然可以把所有列名写上，不过更简单的方式用星号 (*) 来代表所有列.如下：</p>
                <p>
                <blockquote>
                  Select 查询所有列<br>
                  SELECT *<br>
                  FROM mytable（表名）;
                </blockquote>
                </p>

                <p>练习：</p>
                <p><img src="sqlimg/1.png" alt=""></p>
                <p>1.找到所有电影的名称title <br>
                  SELECT title FROM movies;<br>
                  2.找到所有电影的导演<br>
                  SELECT director FROM movies;<br>
                  3.找到所有电影的名称和导演<br>
                  SELECT Title,director FROM movies;<br>
                </p>

                <h2 id="条件查询">
                  <a href="#条件查询" class="heading-link"><i class="fas fa-link"></i></a>条件查询</h2>
                <h4 id="where字句">
                  <a href="#where字句" class="heading-link"><i class="fas fa-link"></i></a>简单条件之where字句</h4>

                <p>真实情况下，我们很少直接查所有行，即使查询出来也看不完。
                  为了更精确的查询出特定数据，我们需要学习一个新的SQL语法：SELECT查询的 WHERE 子句.
                  一个查询的 WHERE子句用来描述哪些行应该进入结果，具体就是通过 condition条件
                  限定这些行的属性满足某些具体条件。</p>
                <p>
                <blockquote>
                  条件查询语法<br>
                  SELECT column, another_column, …<br>
                  FROM mytable<br>
                  WHERE condition<br>
                  AND/OR another_condition<br>
                  AND/OR …;<br>

                  注：这里的 condition 都是描述属性列的，具体会在下面的表格体现。<br>
                </blockquote>
                </p>

                <p>可以用AND or OR这两个关键字来组装多个条件，
                  下面的具体语法规则，可以用来筛选数字属性列（包括整数，浮点数）:</p>
                <div class="font">
                  <table class="table table-striped table-condensed">
                    <tbody>
                      <tr>
                        <td style="width: 15%; text-align: center;">Operator（关键字）</td>
                        <td style="width: 60%">Condition（意思）</td>
                        <td>SQL Example(例子）</td>
                      </tr>
                      <tr>
                        <td style="text-align: center;">=, !=, &lt; &lt;=, &gt;, &gt;=</td>
                        <td>Standard numerical operators 基础的 大于，等于等比较</td>
                        <td>col_name <span class="faux-keyword">!=</span> 4</td>
                      </tr>
                      <tr>
                        <td style="text-align: center;">BETWEEN … AND …</td>
                        <td>Number is within range of two values (inclusive) 在两个数之间</td>
                        <td>col_name <span class="faux-keyword">BETWEEN</span> 1.5 <span class="faux-keyword">AND</span>
                          10.5</td>
                      </tr>
                      <tr>
                        <td style="text-align: center;">NOT BETWEEN … AND …</td>
                        <td>Number is not within range of two values (inclusive) 不在两个数之间</td>
                        <td>col_name <span class="faux-keyword">NOT BETWEEN</span> 1 <span
                            class="faux-keyword">AND</span> 10</td>
                      </tr>
                      <tr>
                        <td style="text-align: center;">IN (…)</td>
                        <td>Number exists in a list 在一个列表</td>
                        <td>col_name <span class="faux-keyword">IN</span> (2, 4, 6)</td>
                      </tr>
                      <tr>
                        <td style="text-align: center;">NOT IN (…)</td>
                        <td>Number does not exist in a list 不在一个列表</td>
                        <td>col_name <span class="faux-keyword">NOT IN</span> (1, 3, 5)</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <p>
                <blockquote>
                  小贴士?<br>
                  虽然之前我们的SQL关键字如 SELECT, WHERE, AND,OR 都是大写的，
                  但SQL其实是兼容写成 select,where小写的.
                  大写这些关键字有助于我们把 关键字 和 你的表名，列名区分开，让SQL更容易理解。
                </blockquote>
                </p>
                <p>练习：</p>
                <p><img src="sqlimg/2.png" alt=""></p>

                <p>1.找到id为6的电影<br>
                  SELECT * FROM movies where id=6 <br>
                  2.找到在2000-2010年间year上映的电影 <br>
                  SELECT * FROM movies where year between 2000 and 2010（解法一） <br>
                  SELECT * FROM movies where year>2000 and year<2010（解法二）<br>
                    3.找到不是在2000-2010年间year上映的电影 <br>
                    SELECT * FROM movies where year not between 2000 and 2010（解法一） <br>
                    SELECT * FROM movies where year<2000 or year>2010（解法二） <br>
                      <span class="red">4.找到头5部电影<br>
                        SELECT * FROM movies where id<=5 </span><br>
                          5.找到2010（含）年之后的电影里片长小于两个小时的片子 <br>
                          SELECT * FROM movies where year>=2010 and Length_minutes<120 </p>



                            <h2 id="复杂条件">
                              <a href="#复杂条件" class="heading-link"><i class="fas fa-link"></i></a>复杂条件</h2>
                            <p>如果属性是字符串, 我们会用到字符串相关的一些操作符号，下面这个表格对字符串操作符有详细的描述:</p>
                            <div class="datatable">
                              <table class="font">
                                <tbody>
                                  <tr>
                                    <th style="width: 13%; text-align: center;">Operator（操作符）</th>
                                    <th style="width: 55%">Condition（解释）</th>
                                    <th>Example（例子）</th>
                                  </tr>
                                  <tr>
                                    <td style="text-align: center;">=</td>
                                    <td>Case sensitive exact string comparison (<em>notice the single equals</em>)完全等于
                                    </td>
                                    <td>col_name <span class="faux-keyword">=</span> "abc"</td>
                                  </tr>
                                  <tr>
                                    <td style="text-align: center;">!= or &lt;&gt;</td>
                                    <td>Case sensitive exact string inequality comparison 不等于</td>
                                    <td>col_name <span class="faux-keyword">!=</span> "abcd"</td>
                                  </tr>
                                  <tr>
                                    <td style="text-align: center;">LIKE</td>
                                    <td>Case insensitive exact string comparison 没有用通配符等价于 = </td>
                                    <td>col_name <span class="faux-keyword">LIKE</span> "ABC"</td>
                                  </tr>
                                  <tr>
                                    <td style="text-align: center;">NOT LIKE</td>
                                    <td>Case insensitive exact string inequality comparison 没有用通配符等价于 != </td>
                                    <td>col_name <span class="faux-keyword">NOT LIKE</span> "ABCD"</td>
                                  </tr>
                                  <tr>
                                    <td style="text-align: center;">%</td>
                                    <td>Used anywhere in a string to match
                                      a sequence of zero or more characters (only with LIKE or NOT LIKE)
                                      通配符，代表匹配0个以上的字符</td>
                                    <td>col_name <span class="faux-keyword">LIKE</span> "%AT%"<br>
                                      (matches "<span class="uline">AT</span>", "<span class="uline">AT</span>TIC",
                                      "C<span class="uline">AT</span>"
                                      or even "B<span class="uline">AT</span>S") "%AT%" 代表AT 前后可以有任意字符</td>
                                  </tr>
                                  <tr>
                                    <td style="text-align: center;">_</td>
                                    <td>Used anywhere in a string to match
                                      a single character (only with LIKE or NOT LIKE) 和% 相似，代表1个字符</td>
                                    <td>col_name <span class="faux-keyword">LIKE</span> "AN_"<br>
                                      (matches "<span class="uline">AN</span>D", but not "<span
                                        class="uline">AN</span>")</td>
                                  </tr>
                                  <tr>
                                    <td style="text-align: center;">IN (…)</td>
                                    <td>String exists in a list 在列表</td>
                                    <td>col_name <span class="faux-keyword">IN</span> ("A", "B", "C")</td>
                                  </tr>
                                  <tr>
                                    <td style="text-align: center;">NOT IN (…)</td>
                                    <td>String does not exist in a list 不在列表</td>
                                    <td>col_name <span class="faux-keyword">NOT IN</span> ("D", "E", "F")</td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                            <p>
                            <blockquote>
                              小贴士? <br>
                              在字符串表达式中的字符串需要用引号 " 包含，
                              如果不用引号，SQL会认为是一个属性列的名字，
                              如：col_name = color 表示 col_name和color两个属性一样的行 col_name = "color" 表示 col_name 属性为字符串
                              "color"的行.
                            </blockquote>
                </p>
                <p>练习：</p>
                <p><img src="sqlimg/2.png" alt=""></p>
                <p class="background"> <span class="red">1.找到所有Toy Story系列电影 <br>
                    SELECT * FROM movies where title like "%toy story%"</span><br>
                  2.找到所有John Lasseter导演的电影<br>
                  SELECT * FROM movies where director like "John Lasseter"<br>
                  3.找到所有不是John Lasseter导演的电影<br>
                  SELECT * FROM movies where director not like "John Lasseter"<br>
                  <span class="red">4.找到所有电影名为 "WALL-" 开头的电影<br>
                    SELECT * FROM movies where title like "WALL-_"
                  </span><br>
                  5.有一部98年电影中文名《虫虫危机》请给我找出来<br>
                  SELECT * FROM movies where title like "A Bug's Life"<br>
                </p>

                <h2 id="结果过滤">
                  <a href="#结果过滤" class="heading-link"><i class="fas fa-link"></i></a>结果过滤</h2>
                <h4 id="DISTINCT语法">
                  <a href="#DISTINCT语法" class="heading-link"><i class="fas fa-link"></i></a>DISTINCT语法</h4>
                <p>DISTINCT关键字可以指定某个或某些属性列唯一返回，拿之前的 Movies表来说，一个导演在一列中出现多次，
                  distinct会删除重复项，将一列中多次出现的值唯一返回。</p>
                <p>
                <blockquote class="font">
                  小贴士?<br>
                  虽然之前我们的SQL关键字如 SELECT, WHERE, AND,OR 都是大写的，
                  但SQL其实是兼容写成 select,where小写的.
                  大写这些关键字有助于我们把 关键字 和 你的表名，列名区分开，让SQL更容易理解。
                </blockquote>
                </p>
                <h4 id="结果排序 （Ordering results）">
                  <a href="#结果排序 （Ordering results）" class="heading-link"><i class="fas fa-link"></i></a>结果排序 （Ordering
                  results）</h4>
                <p>可以用 ORDER BY col_name 排序的语法来让结果按一个或多个属性列做排序.</p>
                <p>
                <blockquote class="font">
                  结果排序（ordered results）<br>
                  SELECT column, another_column, …<br>
                  FROM mytable <br>
                  WHERE condition(s) <br>
                  ORDER BY column ASC/DESC;
                </blockquote>
                </p>
                <p>ORDER BY col_name 这句话的意思就是让结果按照 col_name 列的具体值做 ASC升序 或 DESC 降序，
                  对数字来说就是升序 1，2，3，... 或降序 ... 3,2,1 . 对于文本列，升序和降序指的是按文本的字母序。</p>
                <h4 id="limit和offset">
                  <a href="#limit和offset" class="heading-link"><i class="fas fa-link"></i></a>limit和offset</h4>
                <p>LIMIT 和 OFFSET 子句通常和ORDER BY 语句一起使用，当我们对整个结果集排序之后，
                  我们可以 LIMIT来指定只返回多少行结果 ,用 OFFSET来指定从哪一行开始返回。
                  你可以想象一下从一条长绳子剪下一小段的过程，我们通过 OFFSET 指定从哪里开始剪，用 LIMIT 指定剪下多少长度。</p>
                <p>
                <blockquote class="font">
                  limited查询<br>
                  SELECT column, another_column, …<br>
                  FROM mytable <br>
                  WHERE condition(s) <br>
                  ORDER BY column ASC/DESC <br>
                  LIMIT num_limit OFFSET num_offset;
                </blockquote>
                </p>
                <p>练习：</p>
                <p>
                  <img src="sqlimg/2.png" alt=""></p>
                <p>1.按导演名排重列出所有电影(只显示导演)，并按导演名正序排列<br>
                  SELECT distinct director FROM movies order by director asc <br>
                  <span class="red">2.列出按上映年份最新上线的4部电影<br>
                    select * from movies order by year desc limit 4
                  </span><br>
                  <span class="font">注：asc是小数在前，大数再后，desc反之</span><br>
                  3.按电影名字母序升序排列，列出前5部电影<br>
                  select * from movies order by title asc limit 5 <br>
                  <span class="red">4.按电影名字母序升序排列，列出上一题之后的5部电影<br>
                    select * from movies order by title asc limit 5 offset 5
                  </span><br>
                  <span class="font">注：注意offset的有效边界值，显示第五条之后的，那么offset后的值为5</span><br>
                  <span class="red">5.如果按片长排列，John Lasseter导演导过片长第3长的电影是哪部，列出名字即可<br>
                    select title from movies where director like "John Lasseter" order by length_minutes desc limit 1
                    offset 2
                  </span><br>
                  <span class="font">注：注意题干“列出名字即可”以及limit和offset后的值</span><br>
                </p>
                <h2 id="复习select查询">
                  <a href="#复习select查询" class="heading-link"><i class="fas fa-link"></i></a>复习select查询</h2>
                <p>
                <blockquote class="font">
                  SELECT查询语法<br>
                  SELECT column, another_column, …<br>
                  FROM mytable <br>
                  WHERE condition(s)<br>
                  ORDER BY column ASC/DESC<br>
                  LIMIT num_limit OFFSET num_offset;
                </blockquote>
                </p>
                <p>练习：<br>
                <p>
                <blockquote class="font">
                  小贴士?<br>
                  在这个数据表中，你需要熟悉一下latitudes（纬度）和 longitudes（经度）的概念， latitudes在赤道以北是正数，
                  以南是负数；longitudes在子午线东部是正数，以西是负数， 在查询中需要注意 经纬度和东西南北方向的对应关系。
                </blockquote>
                </p>
                <img src="sqlimg/3.png" alt="">
                </p>

                <p>
                  1.列出所有加拿大人的Canadian信息(包括所有字段) <br>
                  SELECT * FROM north_american_cities where country like <span class="red"> "canada"</span><br>
                  <span class="font">注：Canada记得加 <span class="red">引号</span></span><br>
                  2.列出所有在Chicago西部的城市，从西到东排序(包括所有字段) <br>
                  SELECT * FROM north_american_cities where longitude<-87.629798 order by longitude asc<br>
                    <span class="font">注：不要想的太复杂，直接找到Chicago对应的longitude值，用该值做条件筛选即可</span><br>
                    3.用人口数population排序,列出墨西哥Mexico最大的2个城市(包括所有字段) <br>
                    SELECT * FROM north_american_cities where country like "Mexico" order by population desc limit 2
                    <br>
                    4.列出美国United States人口3-4位的两个城市和他们的人口(包括所有字段) <br>
                    SELECT * FROM north_american_cities where country like "United States" order by population desc
                    limit 2 offset 2
                </p>
                <h2 id="多表联查">
                  <a href="#多表联查" class="heading-link"><i class="fas fa-link"></i></a>多表联查</h2>
                <h4 id="数据库范式">
                  <a href="#数据库范式" class="heading-link"><i class="fas fa-link"></i></a>数据库范式</h4>
                <p>数据库范式是数据表设计的规范，在范式规范下，
                  数据库里每个表存储的重复数据降到最少（这有助于数据的一致性维护），同时在数据库范式下，表和表之间不再有很强的数据耦合，
                  可以独立的增长 (ie. 比如汽车引擎的增长和汽车的增长是完全独立的). 范式带来了很多好处，但随着数据表的分离，
                  意味着我们要查询多个数据属性时，需要更复杂的SQL语句，
                  也就是本节开始介绍的多表连接技术。这样SQL的性能也会面临更多的挑战，特别是当大数据量的表很多的情况下.</p>
                <h4 id="join多表联查">
                  <a href="#join多表联查" class="heading-link"><i class="fas fa-link"></i></a>join多表联查</h4>
                <p><strong>主键(primary key)</strong> , 一般关系数据表中，都会有一个属性列设置为 主键(primary key)。
                  主键是唯一标识一条数据的，不会重复，一个最常见的主键就是auto-incrementing integer(自增ID，每写入一行数据ID+1,
                  当然字符串，hash值等只要是每条数据是唯一的也可以设为主键.</p>
                <h4 id="INNER JOINs">
                  <a href="#INNER JOINs" class="heading-link"><i class="fas fa-link"></i></a>INNER JOINs</h4>
                <p>借助主键(primary key)（当然其他唯一性的属性也可以），
                  我们可以把两个表中具有相同主键ID的数据连接起来（因为一个ID可以简要的识别一条数据，所以连接之后还是表达的同一条数据）。
                  用到 JOIN 关键字。先来学习 INNER JOIN.</p>

                <blockquote class="font">
                  用INNER JOIN 连接表的语法：<br>
                  SELECT column, another_table_column, …<br>
                  FROM mytable （主表）<br>
                  INNER JOIN another_table （要连接的表）<br>
                  ON mytable.id = another_table.id (想象一下刚才讲的主键连接，两个相同的连成1条)<br>
                  WHERE condition(s)<br>
                  ORDER BY column, … ASC/DESC<br>
                  LIMIT num_limit OFFSET num_offset;
                </blockquote>
                通过ON条件描述的关联关系;INNER JOIN 先将两个表数据连接到一起. <br>
                两个表中如果通过ID互相找不到的数据将会舍弃。此时，你可以将连表后的数据看作两个表的合并，<br>
                SQL中的其他语句会在这个合并基础上 继续执行（想一下和之前的单表操作就一样了）.<br>
                还有一个理解INNER JOIN的方式，就是把 INNER JOIN 想成两个集合的交集。<br>
                <img src="sqlimg/inner.png" alt="" width="450px"><br>
                <blockquote class="font">
                  小贴士?<br>
                  INNER JOIN 可以简写做 JOIN. 两者是相同的意思，
                  但我们还是会继续写作 INNER JOIN 以便和后面的 LEFT JOIN， RIGHT JOIN等相比较.
                </blockquote>
                </p>
                <p>练习：</p>
                <img src="sqlimg/4.png" alt="">
                <p>
                  1.找到所有电影的国内Domestic_sales和国际销售额<br>
                  SELECT * FROM movies inner join Boxoffice on id=movie_id <br>
                  2.找到所有国际销售额比国内销售大的电影<br>
                  SELECT * FROM movies inner join Boxoffice on id=movie_id
                  where international_sales>Domestic_sales<br>
                  3.找出所有电影按市场占有率rating倒序排列<br>
                  SELECT * FROM movies inner join Boxoffice on id=movie_id order by rating desc <br>
                  4.每部电影按国际销售额比较,排名最靠前的导演是谁,国际销量多少<br>
                  SELECT director,International_sales FROM movies inner join Boxoffice on id=movie_id order by
                  International_sales desc limit 1
                </p>
                <h4 id="OUTER JOINs">
                  <a href="#OUTER JOINs" class="heading-link"><i class="fas fa-link"></i></a>OUTER JOINs</h4>
                <p>INNER JOIN 只会保留两个表都存在的数据（还记得之前的交集吗），
                  这可能会导致一些数据的丢失.</p>
                <p>真实世界中两个表存在差异很正常，所以我们需要更多的连表方式，
                  也就是本节要介绍的左连接LEFT JOIN,右连接RIGHT JOIN 和 全连接FULL JOIN. 这几个 连接方式都会保留不能匹配的行。
                <blockquote class="font">
                  用LEFT/RIGHT/FULL JOINs 做多表查询<br>
                  SELECT column, another_column, …<br>
                  FROM mytable<br>
                  INNER/LEFT/RIGHT/FULL JOIN another_table<br>
                  ON mytable.id = another_table.matching_id<br>
                  WHERE condition(s)<br>
                  ORDER BY column, … ASC/DESC<br>
                  LIMIT num_limit OFFSET num_offset;
                </blockquote>
                和INNER JOIN 语法几乎是一样的. 我们看看这三个连接方法的工作原理：<br>
                在表A 连接 B, LEFT JOIN保留A的所有行，不管有没有能匹配上B 反过来 RIGHT JOIN则保留所有B里的行。
                最后FULL JOIN 不管有没有匹配上，同时保留A和B里的所有行<br>
                可以用集合的图示来描述：<br>
                LEFT:
                <img src="sqlimg/left.png" alt="">
                RIGHT:
                <img src="sqlimg/right.png" alt="">
                FULL:
                <img src="sqlimg/full.png" alt="">

                </p>
                <blockquote class="font">
                  小贴士?<br>
                  这些Join也可以写作 LEFT OUTER JOIN,
                  RIGHT OUTER JOIN, 或 FULL OUTER JOIN, 和 LEFT JOIN, RIGHT JOIN, and FULL JOIN 等价.
                </blockquote>
                <p>练习：</p>
                <img src="sqlimg/5.png" alt="">
                <p>1.找到所有有雇员的办公室(buildings)名字<br>
                  SELECT DISTINCT building FROM employees where building is not null <br>
                  2.找到所有办公室里的所有角色（包含没有雇员的）,并做唯一输出(DISTINCT) <br>
                  <span class="red">SELECT distinct buildings.Building_name,employees.role FROM Buildings left join
                    employees on employees.building=buildings.Building_name</span> <br>
                  3.找到所有有雇员的办公室(buildings)和对应的容量 <br>
                  <span class="red">select distinct Building_name,Capacity
                    from Employees left join Buildings on Employees.building=Buildings.Building_name
                    where Building_name is not null（方法一） </span><br>
                  <span class="red">select distinct Building_name,Capacity
                    from Employees left join Buildings on Employees.building=Buildings.Building_name
                    where Years_employed>0（方法二） </span><br>
                </p>
                <h2 id="关键字NULL">
                  <a href="#关键字NULL" class="heading-link"><i class="fas fa-link"></i></a>关键字NULL</h2>
                <p>在数据库中，NULL表达的是 "无"的概念，或者说没有东西。因为 NULL的存在，
                  我们需要在编写SQL时考虑到某个属性列可能是 NULL的情况， 这种特殊性会造成编写SQL的复杂性，所以没有必要的情况下，
                  我们应该尽量减少 NULL的使用，让数据中尽可能少出现 NULL的情况。</p>
                <p>如果某个字段你没有填写到数据库，很可能就会出现NULL 。
                  所有一个常见的方式就是为字段设置默认值,比如 数字的默认值设置为0，字符串设置为 ""字符串.
                  但是在一些NULL 表示它本来含义的场景，需要注意是否设置默认值还是保持NULL。
                  (比如, 当你计算一些行的平均值的时候，如果是0会参与计算导致平均值差错，是NULL则不会参与计算).</p>
                <p>还有一些情况很难避免 NULL 的出现, 比如之前说的 outer-joining 多表连接，A和B有数据差异时，
                  必须用 NULL 来填充。这种情况，可以用IS NULL和 IS NOT NULL 来选在某个字段是否等于 NULL.</p>
                <blockquote class="font">
                  在查询条件中处理 NULL <br>
                  SELECT column, another_column, …<br>
                  FROM mytable<br>
                  WHERE column IS/IS NOT NULL<br>
                  AND/OR another_condition<br>
                  AND/OR …;
                </blockquote>
                <p>练习：</p>
                <img src="sqlimg/5.png" alt="">
                <p>1.找到雇员里还没有分配办公室的(列出名字和角色就可以) <br>
                  SELECT name,role FROM employees where building is null <br>
                  2.找到还没有雇员的办公室 <br>
                  SELECT Building_name FROM buildings
                  left join employees on buildings.building_name=employees.building where name is null
                </p>
                <h2 id="使用表达式">
                  <a href="#使用表达式" class="heading-link"><i class="fas fa-link"></i></a>使用表达式</h2>
                <p>之前我们在SQL中的出现col_name（属性名）的 地方，我们都只是写上col_name自身。
                  其实在SQL中可以用col_name的地方，都可以用表达式 来指定对属性进行一定的计算或处理。
                  表达式可以对 数字运算，对字符串运算，也可以在表达式中只包含常量不包含col_name(如：SELECT 1+1）</p>
                <blockquote class="font">
                  包含表达式的例子:<br>
                  SELECT particle_speed / 2.0 AS half_particle_speed (对结果做了一个除2）<br>
                  FROM physics_data <br>
                  WHERE ABS(particle_position) * 10.0 >500 <br>
                  （条件要求这个属性绝对值乘以10大于500）; <br>
                </blockquote>

                <p>每一种数据库（mysql，sqlserver等）都有自己的一套函数，包含常用的数字，字符串，时间等处理过程.
                  具体需要参看相关文档。</p>
                <p>当我们用表达式对col属性计算时，很多事可以在SQL内完成，
                  这让SQL更加灵活，但表达式如果长了则很难一下子读懂。所以SQL提供了AS关键字， 来给表达式取一个别名.</p>
                <blockquote class="font">
                  属性列和表取别名的例子:<br>
                  SELECT column AS better_column_name, …<br>
                  FROM a_long_widgets_table_name AS mywidgets<br>
                  INNER JOIN widget_sales<br>
                  ON mywidgets.id = widget_sales.widget_id;<br>
                </blockquote>
                <p>练习：</p>
                <img src="sqlimg/6.png" alt="">
                <p>1.列出所有的电影ID,名字和销售总额(以百万美元为单位计算) <br>
                  SELECT id,title,(Domestic_sales+International_sales)/1000000 as sale FROM movies
                  inner join boxoffice on movies.id=boxoffice.Movie_id <br>
                  <span class="red"><span class="font">注：注意细节，“以百万美元为单位”</span></span> <br>
                  2.列出所有的电影ID,名字和市场指数(Rating的10倍为市场指数) <br>
                  SELECT id,title,10*rating as rate FROM movies inner join boxoffice on movies.id=boxoffice.Movie_id
                  <br>
                  3.列出所有<span class="red">偶数年份</span>的电影，需要电影ID,名字和年份<br>
                  select id, title,year from movies where <span class="red">year%2=0</span> <br>
                  4.John Lasseter导演的每部电影每分钟值多少钱,告诉我最高的3个<span class="red">电影名和价值</span>就可以 <br>
                  select title,<span class="red">(Domestic_sales+International_sales)/Length_minutes as value</span>
                  from movies inner join Boxoffice on movies.id=Boxoffice.Movie_id
                  where Director like "John Lasseter" order by value desc limit 3
                </p>
                <h2 id="查询统计I">
                  <a href="#查询统计I" class="heading-link"><i class="fas fa-link"></i></a>查询统计I</h2>
                <p>SQL默认支持一组统计表达式，可以完成数据统计</p>
                <blockquote class="font">
                  对全部结果数据做统计<br>
                  SELECT AGG_FUNC(column_or_expression) AS aggregate_description, …<br>
                  FROM mytable<br>
                  WHERE constraint_expression;
                </blockquote>
                <h3 id="常见统计函数">
                  <a href="#常见统计函数" class="heading-link"><i class="fas fa-link"></i></a>常见统计函数</h3>
                <div class="font">
                  <table>
                    <tbody>
                      <tr>
                        <td style="width: 20%">Function</td>
                        <td class="unhighlight">Description</td>
                      </tr>
                      <tr>
                        <td><strong>COUNT(</strong>*<strong>)</strong>, <strong>COUNT(</strong><span
                            style="font-style: italic">column</span><strong>)</strong></td>
                        <td>计数！COUNT(*) 统计数据行数，COUNT(column) 统计column非NULL的行数.</td>
                      </tr>
                      <tr>
                        <td><strong>MIN(</strong><span style="font-style: italic">column</span><strong>)</strong></td>
                        <td>找column最小的一行.</td>
                      </tr>
                      <tr>
                        <td><strong>MAX(</strong><span style="font-style: italic">column</span><strong>)</strong></td>
                        <td>找column最大的一行.</td>
                      </tr>
                      <tr>
                        <td><strong>AVG(</strong><span style="font-style: italic">column</span>)<strong></strong></td>
                        <td>对column所有行取平均值.</td>
                      </tr>
                      <tr>
                        <td><strong>SUM(</strong><span style="font-style: italic">column</span><strong>)</strong></td>
                        <td>对column所有行求和.</td>
                      </tr>
                      <tr>
                        <td colspan="2">Docs:
                          <a href="https://dev.mysql.com/doc/refman/5.6/en/group-by-functions.html"
                            title="MySQL Aggregate Functions">MySQL</a>,
                          <a href="http://www.postgresql.org/docs/9.4/static/functions-aggregate.html"
                            title="Postgres Aggregate Functions">Postgres</a>,
                          <a href="http://www.sqlite.org/lang_aggfunc.html"
                            title="SQLite Aggregate Functions">SQLite</a>,
                          <a href="https://msdn.microsoft.com/en-us/library/ms173454.aspx"
                            title="Microsoft SQL Server Aggregate Functions">Microsoft SQL Server</a>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <h3 id="分组统计">
                  <a href="#分组统计" class="heading-link"><i class="fas fa-link"></i></a>分组统计</h3>
                <p>GROUP BY 数据分组语法可以按某个col_name对数据进行分组，如：GROUP BY Year指对数据按年份分组，
                  相同年份的分到一个组里。如果把统计函数和GROUP BY结合，那统计结果就是对分组内的数据统计了.
                  GROUP BY 分组结果的数据条数，就是分组数量</p>
                <blockquote class="font">
                  用分组的方式统计：<br>
                  SELECT AGG_FUNC(column_or_expression) AS aggregate_description, …<br>
                  FROM mytable<br>
                  WHERE constraint_expression<br>
                  GROUP BY column;
                </blockquote>
                <p>练习：</p>
                <img src="sqlimg/7.png" alt="">
                <p>1.找出就职年份最高的雇员(列出雇员名字+年份）<br>
                  SELECT Name,<span class="red">Max(Years_employed)</span> FROM employees <br>
                  <span class="red"><span class="font">注：记得用max（）统计函数</span></span> <br>
                  2.按角色(Role)统计一下每个角色的平均就职年份<br>
                  SELECT role,avg(years_employed) as year FROM employees <span class="red">group by role</span> <br>
                  3.按办公室名字总计一下就职年份总和 <br>
                  ELECT building,<span class="red">sum(years_employed) as year</span> FROM employees
                  <span class="red">group by building</span> <br>
                  4.每栋办公室按人数排名,不要统计无办公室的雇员<br>
                  SELECT building,<span class="red">count(name) as number</span> FROM employees
                  where <span class="">building is not null</span> group by building
                </p>
                <h2 id="查询统计II"> <a href="#查询统计II" class="heading-link"><i class="fas fa-link"></i></a>查询统计II</h2>
                <p>在 GROUP BY 分组语法中，我们知道数据库是先对数据做WHERE，然后对结果做分组，
                  如果我们要对分组完的数据再筛选出几条如何办？</p>
                <p>一个不常用的语法 HAVING 语法将用来解决这个问题，他可以对分组之后的数据再做SELECT筛选.</p>
                <blockquote class="font">
                  用HAVING进行筛选 <br>
                  SELECT group_by_column, AGG_FUNC(column_expression) AS aggregate_result_alias, … <br>
                  FROM mytable<br>
                  WHERE condition<br>
                  GROUP BY column<br>
                  HAVING group_condition;
                </blockquote>
                <p>HAVING 和 WHERE 语法一样，只不过作用的结果集不一样.
                  当你的数据量成千上万属性又很多时也许能帮上大忙 .</p>
                <p>练习：</p>
                <img src="sqlimg/7.png" alt="">
                <p>1.统计一下Artist角色的雇员数量 <br>
                  SELECT count(role) FROM employees where role like "Artist"(方法一) <br>
                  SELECT count(*) FROM employees WHERE Role = 'Artist'（方法二）<br>
                  2.按角色统计一下每个角色的雇员数量<br>
                  SELECT role,count(*) FROM employees group by role <br>
                  <span class="font"><span class="red">注：先分组后统计</span></span><br>
                  3.算出Engineer角色的就职年份总计<br>
                  SELECT sum(years_employed) FROM employees where role="Engineer" <br>
                  4.按角色分组算出每个角色按有办公室和没办公室的统计人数(列出角色，数量，有无办公室,
                  注意一个角色如果部分有办公室，部分没有需分开统计）<br>
                  <span class="red">SELECT role, count(*),building is not null as b FROM employees group by
                    role,b</span>
                </p>
                <h2 id="综合复习"> <a href="#综合复习" class="heading-link"><i class="fas fa-link"></i></a>综合复习</h2>
                <p>把之前的所有语法集中到一个句子中.</p>
                <blockquote class="font">
                  这才是完整的SELECT查询<br>
                  SELECT DISTINCT column, AGG_FUNC(column_or_expression), …<br>
                  FROM mytable<br>
                  JOIN another_table<br>
                  ON mytable.column = another_table.column<br>
                  WHERE constraint_expression<br>
                  GROUP BY column<br>
                  HAVING constraint_expression<br>
                  ORDER BY column ASC/DESC<br>
                  LIMIT count OFFSET COUNT;
                </blockquote>
                <p>一个查询SQL的执行总是先从数据里按条件选出数据，然后对这些数据再次做一些整理处理，
                  按要求返回成结果，让结果尽可能是简单直接的。</p>
                <h3 id="执行顺序"> <a href="#执行顺序" class="heading-link"><i class="fas fa-link"></i></a>执行顺序</h3>
                <h4>1. FROM 和 JOINs</h4>
                <p>FROM 或 JOIN会第一个执行，确定一个整体的数据范围. 如果要JOIN不同表，可能会生成一个临时Table来用于 下面的过程。
                  总之第一步可以简单理解为确定一个数据源表（含临时表)</p>
                <h4>2. WHERE</h4>
                <p>确定了数据来源 WHERE 语句就将在这个数据源中按要求进行数据筛选，并丢弃不符合要求的数据行，
                  所有的筛选col属性 只能来自FROM圈定的表.
                  AS别名还不能在这个阶段使用，因为可能别名是一个还没执行的表达式</p>
                <h4>3. GROUP BY</h4>
                <p>如果你用了 GROUP BY 分组，那GROUP BY 将对之前的数据进行分组，统计等，
                  并将是结果集缩小为分组数.这意味着 其他的数据在分组后丢弃.</p>
                <h4>4. HAVING</h4>
                <p>如果你用了 GROUP BY 分组, HAVING 会在分组完成后对结果集再次筛选。AS别名也不能在这个阶段使用.</p>
                <h4>5. SELECT</h4>
                <p>确定结果之后，SELECT用来对结果col简单筛选或计算，决定输出什么数据.</p>
                <h4>6. DISTINCT</h4>
                <p>如果数据行有重复DISTINCT 将负责排重.</p>
                <h4>7. ORDER BY</h4>
                <p>在结果集确定的情况下，ORDER BY 对结果做排序。因为SELECT中的表达式已经执行完了。此时可以用AS别名.</p>
                <h4>8. LIMIT / OFFSET</h4>
                <p>最后 LIMIT 和 OFFSET 从排序的结果中截取部分数据.</p>
                <h3>结论</h3>
                <p>不是每一个SQL语句都要用到所有的句法，但灵活运用以上的句法组合和深刻理解SQL执行原理将能在SQL层面更好的解决数据问题，
                  而不用把问题 都抛给程序逻辑.</p>
                <p>练习：</p>
                <img src="sqlimg/6.png" alt="">
                <p>1.统计出每一个导演的电影数量（列出导演名字和数量）<br>
                  SELECT director,count(title) FROM movies group by director <br>
                  2.统计一下每个导演的销售总额(列出导演名字和销售总额) <br>
                  select director,Domestic_sales+ International_sales as sales from Movies
                  left join Boxoffice on Movies.id=Boxoffice.movie_id group by director <br>
                  3.按导演分组计算销售总额,求出平均销售额冠军（统计结果过滤掉只有单部电影的导演，列出导演名，总销量，电影数量，平均销量) <br>
                  <span class="red">SELECT director, sum(Domestic_sales +International_sales) as sales,count(*) as
                    count,avg(Domestic_sales +International_sales) as number
                    FROM movies left join Boxoffice on Movies.id=Boxoffice.Movie_id group by director
                    having count(*)>1 order by number desc limit 1</span><br>
                  4.找出每部电影和单部电影销售冠军之间的销售差，列出电影名，销售额差额<br>
                  <span class="red">select title,(SELECT (Domestic_sales+International_sales) as total_sale FROM movies
                    left join boxoffice on movies.id = boxoffice.movie_id
                    order by total_sale desc limit 1)-(Domestic_sales+ International_sales) as sales
                    from Movies left join Boxoffice on Movies.id=Boxoffice.movie_id</span>
                </p>
                <h2 id="插入行"> <a href="#插入行" class="heading-link"><i class="fas fa-link"></i></a>插入行</h2>
                <h3 id="什么是架构？"> <a href="#什么是架构？" class="heading-link"><i class="fas fa-link"></i></a>什么是架构？</h3>
                <p>先前我们将数据库中的表描述为行和列的二维集，其中列是属性，行是表中实体的实例。在SQL中，
                  数据库架构描述了每个表的结构以及表的每个列可以包含的数据类型。</p>
                <blockquote class="font">
                  示例：相关子查询 <br>
                  例如，在我们的电影表中，“年份”列中的值必须为“整数”，而“标题”列中的值必须为“字符串”。
                </blockquote>
                <p>尽管存储了数百万甚至数十亿行，但这种固定的结构使数据库高效且一致。</p>
                <h3 id="插入数据"> <a href="#插入数据" class="heading-link"><i class="fas fa-link"></i></a>插入数据</h3>
                <p>将数据插入数据库时​​，我们需要使用一条INSERT语句，该语句声明要写入的表，要填充的数据列以及要插入的一行或多行数据。
                  通常，您插入的每一行数据应包含表中每个对应列的值。您可以一次插入多个行，只需按顺序列出即可。</p>
                <blockquote class="font">
                  使用所有列的值插入语句<br>
                  INSERT INTO mytable<br>
                  VALUES (value_or_expr, another_value_or_expr, …),<br>
                  (value_or_expr_2, another_value_or_expr_2, …),<br>
                  …;
                </blockquote>
                <p>在某些情况下，如果数据不完整并且表中包含支持默认值的列，则可以通过显式指定仅包含数据列的行。</p>
                <blockquote class="font">
                  插入具有特定列的语句<br>
                  INSERT INTO mytable<br>
                  (column, another_column, …)<br>
                  VALUES (value_or_expr, another_value_or_expr, …),<br>
                  (value_or_expr_2, another_value_or_expr_2, …),<br>
                  …;
                </blockquote>
                <p>在这些情况下，值的数量必须与指定的列数匹配。尽管这是一个较为冗长的语句，但以这种方式插入值仍具有向前兼容的优点。
                  例如，如果您向表中添加具有默认值的新列，则无需INSERT更改硬编码的语句即可适应该更改。<br>
                  此外，可以将数学表达式和字符串表达式与要插入的值一起使用。
                  这对于确保以某种方式格式化所有插入的数据很有用</p>
                <p>练习：</p>
                <img src="sqlimg/8.png" alt="">
                <p>1.将工作室的新作品Toy Story 4添加到电影列表中（您可以使用任何导演） <br>
                  insert into movies values(4,"Toy Story 4","John Lasseter",2020,90) <br>
                  <span class="red"><span class="font">注：字符串记得加引号</span></span><br>
                  2.Toy Story 4已广受好评！它的评分为8.7，国内3.4亿，国际2.7亿。将记录添加到BoxOffice表中。<br>
                  insert into Boxoffice values(4,8.7,37000000,2700000000)</p>
                <h2 id="更新行"> <a href="#更新行" class="heading-link"><i class="fas fa-link"></i></a>更新行</h2>
                <p>除了添加新数据，常见的任务是更新现有数据，这可以使用UPDATE语句来完成 。与该INSERT语句类似，您必须确切指定要更新的表，
                  列和行。此外，您要更新的数据必须与表架构中列的数据类型匹配。</p>
                <blockquote class="font">
                  用值更新语句<br>
                  UPDATE mytable<br>
                  SET column = value_or_expr, <br>
                  other_column = another_value_or_expr, <br>
                  …<br>
                  WHERE condition;
                </blockquote>
                <p>该语句通过采用多个列/值对，并将这些更改应用于满足该WHERE子句中约束的每一行而起作用。</p>
                <strong>注意：</strong>
                <p>大多数使用SQL的人都会在某一点或另一点更新数据时出错。无论是在生产数据库中更新错误的行集，
                  还是无意中遗漏了WHERE 子句（导致更新应用于所有行），在构造UPDATE语句时都需要格外小心。
                  一个有用的技巧是始终写约束并在SELECT查询中对其进行测试，以确保您更新的是正确的行，然后才写入列/值对进行更新。</p>
                <p>练习：</p>
                <img src="sqlimg/9.png" alt="">
                <p>1.A Bug's Life的导演不正确，实际上是由John Lasseter执导的<br>
                  update movies set director= "John Lasseter" where title ="A Bug's Life"<br>
                  2.Toy Story 2发布的年份不正确，实际上是在1999年发布的<br>
                  update movies set Year= "1999" where title ="Toy Story 2" <br>
                  3.Toy Story 8的标题和导演都不正确！标题应该是“Toy Story 3”，它是由Lee Unkrich导演的 <br>
                  update movies set title = "Toy Story 3",director="Lee Unkrich"
                  where title ="Toy Story 8"</p>
                <h2 id="删除行"> <a href="#删除行" class="heading-link"><i class="fas fa-link"></i></a>删除行</h2>
                <p>当需要从数据库中的表中删除数据时，可以使用一条DELETE语句来描述要执行的表，并通过该WHERE子句删除表中的行</p>
                <blockquote class="font">
                  删除条件语句 <br>
                  DELETE FROM mytable <br>
                  WHERE condition;
                </blockquote>
                <p>如果决定不使用WHERE约束，则将删除所有行，这是一种彻底清除表的快速简便方法（如果有意的话）。</p>
                <strong>注意：</strong>
                <p>像UPDATE语句一样，<span class="red">建议您首先在SELECT查询中运行约束，以确保删除正确的行</span> 。如果没有适当的备份或测试数据库，
                  那么彻底地删除数据是很容易的，因此请务必DELETE两次阅读语句并执行一次。</p>
                <p>练习：</p>
                <p>1.这个数据库太大了，可以删除2005年之前发行的所有电影。<br>
                  delete from movies where Year<2005 <br>
                    2.Andrew Stanton已经离开了电影制片厂，因此请删除他执导的所有电影。<br>
                    delete from movies where Director like "Andrew Stanton" <br>
                    <span class="red"><span class="font">注：记得加引号</span></span>
                </p>
                <h2 id="创建表"> <a href="#创建表" class="heading-link"><i class="fas fa-link"></i></a>创建表</h2>
                <p>当您要在数据库中存储新的实体和关系时，可以使用该CREATE TABLE语句创建新的数据库表。</p>
                <blockquote class="font">
                  创建带有可选表约束和默认值的表语句<br>
                  CREATE TABLE IF NOT EXISTS mytable (<br>
                  column DataType TableConstraint DEFAULT default_value,<br>
                  another_column DataType TableConstraint DEFAULT default_value,<br>
                  …<br>
                  );
                </blockquote>
                <p>新表的结构由其表架构定义，该架构定义了一系列列。每列都有一个名称，该列中允许的数据类型，
                  对要插入的值的可选表约束以及可选的默认值。如果已经存在一个具有相同名称的表，则SQL实现通常会引发错误，
                  因此可以使用该IF NOT EXISTS子句来抑制该错误并跳过创建表（如果存在）的情况</p>
                <h3>表数据类型</h3>
                <p>不同的数据库支持不同的数据类型，但是常见的类型支持数字，字符串以及其他杂项，例如日期，布尔值，甚至二进制数据。
                  这是您可能在真实代码中使用的一些示例。</p>
                <div class="datatable">
                  <table class="font">
                    <tr>
                      <td style="width: 30%">数据类型</td>
                      <td class="unhighlight">描述</td>
                    </tr>
                    <tr>
                      <td><code>INTEGER</code>, <code>BOOLEAN</code></td>
                      <td>整数数据类型可以存储整个整数值，例如数字或年龄。布尔值仅表示为仅0或1的整数值。</td>
                    </tr>
                    <tr>
                      <td><code>FLOAT</code>, <code>DOUBLE</code>, <code>REAL</code></td>
                      <td>浮点数据类型可以存储更精确的数字数据，例如测量值或分数值。根据该值所需的浮点精度，可以使用不同的类型。</td>
                    </tr>
                    <tr>
                      <td><code>CHARACTER(num_chars)</code>, <code>VARCHAR(num_chars)</code>, <code>TEXT</code></td>
                      <td>
                        <p>基于文本的数据类型可以在各种语言环境中存储字符串和文本。在使用这些列时，各种类型之间的区别通常会影响数据库的效率。</p>
                        <p>CHARACTER和VARCHAR（可变字符）类型都指定了它们可以存储的最大字符数（可能会截断更长的值），因此可以更有效地存储和查询大表。</p>
                      </td>
                    </tr>
                    <tr>
                      <td><code>DATE</code>, <code>DATETIME</code></td>
                      <td>SQL还可以存储日期和时间戳，以跟踪时间序列和事件数据。它们可能很难处理，尤其是在跨时区处理数据时。</td>
                    </tr>
                    <tr>
                      <td><code>BLOB</code></td>
                      <td>最后，SQL可以将二进制数据直接存储在数据库中的blob中。这些值对于数据库通常是不透明的，因此通常必须将它们与正确的元数据一起存储才能重新查询它们。</td>
                    </tr>
                    <tr>
                      <td colspan="2">Docs:
                        <a href="http://dev.mysql.com/doc/refman/5.6/en/data-types.html"
                          title="MySQL Data Types">MySQL</a>,
                        <a href="http://www.postgresql.org/docs/9.4/static/datatype.html"
                          title="Postgres Data Types">Postgres</a>,
                        <a href="https://www.sqlite.org/datatype3.html" title="SQLite Data Types">SQLite</a>,
                        <a href="https://msdn.microsoft.com/en-us/library/ms187752.aspx"
                          title="Microsoft SQL Server Data Types">Microsoft SQL Server</a>
                      </td>
                    </tr>
                  </table>
                </div>
                <h3>表约束</h3>
                <div class="font">
                  <table class="table table-striped table-condensed">
                    <tr>
                      <td style="width: 30%">限制</td>
                      <td class="unhighlight">描述</td>
                    </tr>
                    <tr>
                      <td><code>PRIMARY KEY（主键）</code></td>
                      <td>这意味着该列中的值是唯一的，并且每个值都可用于标识该表中的单个行。</td>
                    </tr>
                    <tr>
                      <td><code>AUTOINCREMENT</code></td>
                      <td>对于整数值，这意味着该值将自动填充，并随每次行插入而增加。并非所有数据库都支持。</td>
                    </tr>
                    <tr>
                      <td><code>UNIQUE</code></td>
                      <td>这意味着该列中的值必须是唯一的，因此您不能在该列中插入与表中另一行具有相同值的另一行。
                        与`PRIMARY KEY`的不同之处在于，它不必是表中一行的键。</td>
                    </tr>
                    <tr>
                      <td><code>NOT NULL</code></td>
                      <td> 这意味着插入的值不能为“ NULL”。</td>
                    </tr>
                    <tr>
                      <td><code>CHECK (expression)</code></td>
                      <td>这使您可以运行更复杂的表达式来测试插入的值是否有效。例如，您可以检查值是正数还是大于特定大小，或者以特定前缀开头等。</td>
                    </tr>
                    <tr>
                      <td><code>FOREIGN KEY</code></td>
                      <td>这是一种一致性检查，可确保此列中的每个值都与另一个表中列中的另一个值相对应。

                        例如，如果有两个表，一个表按ID列出所有employee，另一个表列出其工资信息，
                        则“ FOREIGN KEY”可以确保工资表中的每一行都对应于主Employee列表中的有效雇员。</td>
                    </tr>
                  </table>
                </div>
                <h3>例子</h3>
                <p>这是到目前为止我们在课程中一直使用的Movies表的示例架构。</p>
                <blockquote class="font">
                  电影表架构<br>
                  CREATE TABLE movies (<br>
                  id INTEGER PRIMARY KEY,<br>
                  title TEXT,<br>
                  director TEXT,<br>
                  year INTEGER, <br>
                  length_minutes INTEGER<br>
                  );
                </blockquote>
                <p>练习：</p>
                <p>1.创建一个Database包含以下各列的新表：<br>
                  –Name描述数据库名称的字符串（文本）<br>
                  –Version该数据库最新版本的数字（浮点数）<br>
                  –Download_count该数据库下载次数的整数<br>
                  该表没有约束。<br>
                  create table Database(<br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name text,<br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Version float,<br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Download_count integer);
                </p>
                <h2 id="更改表"> <a href="#更改表" class="heading-link"><i class="fas fa-link"></i></a>更改表</h2>
                <p>随着数据随时间的变化，SQL提供了一种使用ALTER TABLE语句添加，删除或修改列和表约束的方式来更新相应的表和数据库模式的方法。</p>
                <h3 id="添加列"> <a href="#添加列" class="heading-link"><i class="fas fa-link"></i></a>添加列</h3>
                <p>添加新列的语法类似于在语句中创建新行时的语法CREATE TABLE 。您需要指定列的数据类型以及可能应用于现有和新行的所有潜在表约束和默认值。
                  在某些数据库（例如MySQL）中，您甚至可以使用FIRSTorAFTER子句指定在何处插入新列，尽管这不是标准功能。</p>
                <blockquote class="font">
                  修改表以添加新列 <br>
                  ALTER TABLE mytable<br>
                  ADD column DataType OptionalTableConstraint <br>
                  DEFAULT default_value;
                </blockquote>
                <h3 id="移除列"> <a href="#移除列" class="heading-link"><i class="fas fa-link"></i></a>移除列</h3>
                <p>删除列就像指定要删除的列一样容易，但是，某些数据库（包括SQLite）不支持此功能。
                  相反，您可能必须创建一个新表并迁移数据。</p>
                <blockquote class="font">
                  修改表以删除列<br>
                  ALTER TABLE mytable<br>
                  DROP column_to_be_deleted;
                </blockquote>
                <h3 id="重命名表格"> <a href="#重命名表格" class="heading-link"><i class="fas fa-link"></i></a>重命名表格</h3>
                <p>如果您需要重命名表本身，也可以使用RENAME TO语句的子句进行重命名</p>
                <blockquote class="font">
                  变更表格名称<br>
                  ALTER TABLE mytable<br>
                  RENAME TO new_table_name;
                </blockquote>
                <h3 id="其它"> <a href="#其它" class="heading-link"><i class="fas fa-link"></i></a>其它</h3>
                <p>我们的练习使用仅支持添加新列的实现</p>
                <p>练习：</p>
                <p>1.添加一个名为Aspect_ratio的列，该列具有FLOAT数据类型，以存储每部电影发行时的纵横比。<br>
                  alter table movies add Aspect_ratio float <br>
                  2.添加一个名为另一列语言与TEXT数据类型来存储电影在公布的语言。确保该语言默认为英语。<br>
                  alter table movies add Language text default English</p>
                <h2 id="删除表"> <a href="#删除表" class="heading-link"><i class="fas fa-link"></i></a>删除表</h2>
                在极少数情况下，您可能希望删除包含其所有数据和元数据的整个表，并且可以这样做，您可以使用该DROP TABLE语句，
                该语句与该DELETE语句的不同之处在于，它还可以从数据库中完全删除表架构。
                <p>
                <blockquote class="font">
                  删除表语句 <br>
                  DROP TABLE IF EXISTS mytable;
                </blockquote>
                </p>
                <p>类似于该CREATE TABLE语句，如果指定的表不存在，数据库可能会引发错误，并且可以使用该IF EXISTS子句来抑制该错误。<br>
                  另外，如果您有另一个要依赖于要删除的表中列的表（例如，具有FOREIGN KEY依赖关系），则必须先更新所有从属表以删除从属行，或完全删除这些表。</p>
                <p>练习：</p>
                <img src="sqlimg/6.png" alt="">
                <p>1.遗憾的是，我们已经结束了本课程的学习，请通过删除“电影”表进行 清理 <br>
                  drop table Movies <br>
                  2.并删除BoxOffice表 <br>
                  drop table Boxoffice</p>

                <h2 id="特别注意"> <a href="#特别注意" class="heading-link"><i class="fas fa-link"></i></a>特别注意</h2>

                <p>参考资料：</p>
                <ul>
                  <li><span class="exturl"><a class="exturl__link"
                        href="http://xuesql.cn/lesson/select_queries_with_joins" target="_blank"
                        rel="noopener">自学SQL网</a><span class="exturl__icon"><i
                          class="fas fa-external-link-alt"></i></span></span></li>
                  <li><span class="exturl"><a class="exturl__link" href="https://sqlbolt.com/lesson/inserting_rows"
                        target="_blank" rel="noopener">SQL进阶（英文版）</a><span class="exturl__icon"><i
                          class="fas fa-external-link-alt"></i></span></span></li>

                </ul>
              </div>
              <footer class="post-footer">
                <div class="post-ending ending">
                  <div class="ending__text">------ 本文结束，感谢您的阅读 ------</div>
                </div>
                <div class="post-copyright copyright">
                  <div class="copyright-author"><span class="copyright-author__name">本文作者: </span><span
                      class="copyright-author__value"><a href="http://47.99.84.195">wuju</a></span></div>
                  <div class="copyright-link"><span class="copyright-link__name">本文链接: </span><span
                      class="copyright-link__value"><a href="http://47.99.84.195">http://47.99.84.195</a></span>
                  </div>
                  <div class="copyright-notice"><span class="copyright-notice__name">版权声明: </span><span
                      class="copyright-notice__value">本博客所有文章除特别声明外，均采用 <a
                        href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow"
                        target="_blank">BY-NC-SA</a> 许可协议。转载请注明出处！</span></div>
                </div>
                <div class="post-tags"><span class="post-tags-item"><span class="post-tags-item__icon"><i
                        class="fas fa-tag"></i></span><a class="post-tags-item__link"
                      href="https://wuju666.github.io">Github</a></span><span class="post-tags-item"><span
                      class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link"
                      href="https://wuju666.github.io">Git</a></span><span class="post-tags-item"><span
                      class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link"
                      href="https://wuju666.github.io">Pull Request</a></span></div>
                <div class="post-reward reward">
                  <div class="reward-button">请我喝杯咖啡~</div>
                  <div class="reward-qrcode"><span class="reward-qrcode-alipay"><img class="reward-qrcode-alipay__img"
                        src="static/picture/alipay.png">
                      <div class="reward-qrcode-alipay__text">支付宝打赏</div>
                    </span><span class="reward-qrcode-wechat"><img class="reward-qrcode-wechat__img"
                        src="static/picture/wechat.png">
                      <div class="reward-qrcode-wechat__text">微信打赏</div>
                    </span></div>
                </div>
                <nav class="post-paginator paginator">
                  <div class="paginator-next"><a class="paginator-next__link"
                      href="/2020/04/18/deep-study-ssl-tls/"><span class="paginator-prev__text">深入探究
                      </span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div>
                </nav>
              </footer>
            </div>
          </div>
          <div class="comments" id="comments">
            <div id="disqus_thread"></div>
          </div>
        </div>
        <div class="sidebar-wrap" id="sidebar-wrap">
          <aside class="sidebar" id="sidebar">
            <div class="sidebar-nav"><span class="sidebar-nav-toc current">文章目录</span><span
                class="sidebar-nav-ov">站点概览</span></div>
            <section class="sidebar-toc">
              <li class="toc-item toc-level-2"><a class="toc-link" href="#黑盒测试"><span class="toc-number">一、</span> <span
                    class="toc-text">
                    SQL查询</span></a></li>

              <ol class="toc">
                <li class="toc-item toc-level-2"><a class="toc-link" href="#简单查询"><span class="toc-number">1.</span>
                    <span class="toc-text">
                      简单查询</span></a>

                </li>
                <li class="toc-item toc-level-2"><a class="toc-link" href="#条件查询"><span class="toc-number">2.</span>
                    <span class="toc-text">
                      条件查询</span></a></li>
                <li class="toc-item toc-level-2"><a class="toc-link" href="#复杂条件"><span class="toc-number">3.</span>
                    <span class="toc-text">
                      复杂条件</span></a></li>
                <li class="toc-item toc-level-2"><a class="toc-link" href="#结果过滤"><span class="toc-number">4.</span>
                    <span class="toc-text">
                      结果过滤</span></a></li>
                <li class="toc-item toc-level-2"><a class="toc-link" href="#复习select查询"><span
                      class="toc-number">5.</span>
                    <span class="toc-text">
                      复习select查询</span></a></li>
                <li class="toc-item toc-level-2"><a class="toc-link" href="#多表联查"><span class="toc-number">6.</span>
                    <span class="toc-text">
                      多表联查</span></a>
                </li>
                <li class="toc-item toc-level-2"><a class="toc-link" href="#关键字NULL"><span class="toc-number">7.</span>
                    <span class="toc-text">
                      关键字NULL</span></a>
                  <ol class="toc-child">
                    <li class="toc-item toc-level-3"><a class="toc-link" href="#命令行方式"><span
                          class="toc-number">7.1.</span> <span class="toc-text">
                          命令行方式</span></a></li>
                    <li class="toc-item toc-level-3"><a class="toc-link" href="#图形化方式"><span
                          class="toc-number">7.2.</span> <span class="toc-text">
                          图形化方式</span></a></li>
                    <li class="toc-item toc-level-3"><a class="toc-link" href="#web-方式"><span
                          class="toc-number">7.3.</span> <span class="toc-text">
                          Web 方式</span></a></li>
                  </ol>
                </li>

                <li class="toc-item toc-level-2"><a class="toc-link" href="#使用表达式"><span class="toc-number">8.</span>
                    <span class="toc-text">
                      使用表达式</span></a></li>
                <li class="toc-item toc-level-2"><a class="toc-link" href="#查询统计I"><span class="toc-number">9.</span>
                    <span class="toc-text">
                      查询统计I</span></a></li>
              </ol>
              <ol class="toc">

                <li class="toc-item toc-level-2"><a class="toc-link" href="#查询统计II"><span class="toc-number">10.</span>
                    <span class="toc-text">
                      查询统计II</span></a></li>
                <li class="toc-item toc-level-2"><a class="toc-link" href="#综合复习"><span class="toc-number">11.</span>
                    <span class="toc-text">
                      综合复习</span></a>
                </li>
                <li class="toc-item toc-level-2"><a class="toc-link" href="#插入行"><span class="toc-number">12.</span>
                    <span class="toc-text">
                      插入行</span></a>
                </li>
                <li class="toc-item toc-level-2"><a class="toc-link" href="#更新行"><span class="toc-number">13.</span>
                    <span class="toc-text">
                      更新行</span></a>
                </li>
                <li class="toc-item toc-level-2"><a class="toc-link" href="#删除行"><span class="toc-number">14.</span>
                    <span class="toc-text">
                      删除行</span></a>
                </li>
                <li class="toc-item toc-level-2"><a class="toc-link" href="#更改表"><span class="toc-number">15.</span>
                    <span class="toc-text">
                      更改表</span></a>
                </li>
                <li class="toc-item toc-level-2"><a class="toc-link" href="#删除表"><span class="toc-number">16.</span>
                    <span class="toc-text">
                      删除表</span></a>
                </li>
                <li class="toc-item toc-level-2"><a class="toc-link" href="#特别注意"><span class="toc-number">14.</span>
                    <span class="toc-text">
                      特别注意</span></a>
                </li>

              </ol>


            </section><!-- ov = overview-->
            <section class="sidebar-ov hide">
              <div class="sidebar-ov-author">
                <div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="firstimg/QQ.jpg"
                    alt="avatar"></div>
                <p class="sidebar-ov-author__text">write code and love life</p>
              </div>
              <div class="sidebar-ov-social"><a class="sidebar-ov-social-item" href="https://wuju666.github.io"
                  target="_blank" rel="noopener" data-popover="Github" data-popover-pos="up"><span
                    class="sidebar-ov-social-item__icon"><i class="fab fa-github"></i></span></a><a
                  class="sidebar-ov-social-item" href="https://segmentfault.com/u/liuyib/" target="_blank"
                  rel="noopener" data-popover="思否" data-popover-pos="up"><span
                    class="sidebar-ov-social-item__icon">SF</span></a><a class="sidebar-ov-social-item"
                  href="https://www.zhihu.com/people/wo-ai-chi-ju-zi-71/posts" target="_blank" rel="noopener"
                  data-popover="知乎" data-popover-pos="up"><span class="sidebar-ov-social-item__icon">知乎</span></a><a
                  class="sidebar-ov-social-item" href="https://juejin.im/user/5ad6b350f265da2397076275/" target="_blank"
                  rel="noopener" data-popover="掘金" data-popover-pos="up"><span
                    class="sidebar-ov-social-item__icon">掘金</span></a></div>
              <div class="sidebar-ov-feed"><span class="sidebar-ov-feed-email"><a class="sidebar-ov-feed-email__link"
                    href="http://eepurl.com/guAE6j" target="_blank" rel="noopener"><span
                      class="sidebar-ov-feed-email__icon"><i class="fas fa-envelope"></i></span><span>Email
                      订阅</span></a></span><span class="sidebar-ov-feed-rss"><a class="sidebar-ov-feed-rss__link"
                    href="/atom.xml" target="_blank" rel="noopener"><span class="sidebar-ov-feed-rss__icon"><i
                        class="fas fa-rss"></i></span><span>RSS 订阅</span></a></span></div>

            </section>
            <div class="sidebar-reading">
              <div class="sidebar-reading-info"><span class="sidebar-reading-info__text">你已阅读了 </span><span
                  class="sidebar-reading-info__num">0</span></div>
              <div class="sidebar-reading-line"></div>
            </div>
          </aside>
        </div>
        <div class="clearfix"></div>
      </div>
    </main>
    <footer class="footer" id="footer">
      <div class="footer-inner">
        <div><span>Copyright © 2019~2020</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span><a
              href="https://github.com/liuyib" rel="noopener" target="_blank">wuju</a></span></div>

        <div class="busuanzi"><span class="busuanzi-siteuv"><span class="busuanzi-siteuv__icon"><i
                class="fas fa-user"></i></span><span class="busuanzi-siteuv__info">访问人数</span><span
              class="busuanzi-siteuv__value" id="busuanzi_value_site_uv"></span></span><span
            class="busuanzi-sitepv"><span class="busuanzi-siteuv__icon"><i class="fas fa-eye"></i></span><span
              class="busuanzi-siteuv__info">浏览总量</span><span class="busuanzi-siteuv__value"
              id="busuanzi_value_site_pv"></span></span></div>

      </div>
    </footer>
    <div class="loading-bar" id="loading-bar">
      <div class="loading-bar__progress"></div>
    </div>
    <div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div>
  </div>
  <div class="search-mask"></div>
  <div class="search-popup"><span class="search-close"></span>
    <div class="search-input"><input placeholder="搜索文章（支持多关键词，请用空格分隔）"></div>
    <div class="search-results"></div>
  </div>
  <script src="static/js/jquery.min.js"></script>
  <script src="static/js/velocity.min.js"></script>
  <script src="static/js/velocity.ui.min.js"></script>
  <script src="static/js/ribbon.min.js" size="120" alpha="0.6" zIndex="-1"></script>
  <script src="static/js/masonry.pkgd.min.js"></script>
  <script src="static/js/lazyload.min.js"></script>
  <script>function initSearch() {
      var isXML = true;
      var search_path = 'search.json';

      if (!search_path) {
        search_path = 'search.xml';
      } else if (/json$/i.test(search_path)) {
        isXML = false;
      }

      var path = '/' + search_path;
      $.ajax({
        url: path,
        dataType: isXML ? 'xml' : 'json',
        async: true,
        success: function (res) {
          var datas = isXML ? $('entry', res).map(function () {
            // 将 XML 转为 JSON
            return {
              title: $('title', this).text(),
              content: $('content', this).text(),
              url: $('url', this).text()
            };
          }).get() : res;
          var $input = $('.search-input input');
          var $result = $('.search-results');
          // 搜索对象（标题、内容）的权重，影响显示顺序
          var WEIGHT = { title: 100, content: 1 };
          var searchPost = function () {
            var searchText = $input.val().toLowerCase().trim();
            // 根据空白字符分隔关键字
            var keywords = searchText.split(/[\s]+/);
            // 搜索结果
            var matchPosts = [];

            // 有多个关键字时，将原文字整个保存下来
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            // 防止未输入字符时搜索
            if (searchText.length > 0) {
              datas.forEach(function (data) {
                var isMatch = false;
                // 没有标题的文章使用预设的 i18n 变量代替
                var title = (data.title && data.title.trim()) || '[ 文章无标题 ]';
                var titleLower = title && title.toLowerCase();
                // 删除 HTML 标签 和 所有空白字符
                var content = data.content && data.content.replace(/<[^>]+>/g, '');
                var contentLower = content && content.toLowerCase();
                // 删除重复的 /
                var postURL = data.url && decodeURI(data.url).replace(/\/{2,}/g, '/');
                // 标题中匹配到的关键词
                var titleHitSlice = [];
                // 内容中匹配到的关键词
                var contentHitSlice = [];

                keywords.forEach(function (keyword) {
                  /**
                  * 获取匹配的关键词的索引
                  * @param {String} keyword 要匹配的关键字
                  * @param {String} text 原文字
                  * @param {Boolean} caseSensitive 是否区分大小写
                  * @param {Number} weight 匹配对象的权重。权重大的优先显示
                  * @return {Array}
                  */
                  function getIndexByword(word, text, caseSensitive, weight) {
                    if (!word || !text) {
                      return [];
                    };

                    var startIndex = 0; // 每次匹配的开始索引
                    var index = -1;     // 匹配到的索引值
                    var result = [];    // 匹配结果

                    if (!caseSensitive) {
                      word = word.toLowerCase();
                      text = text.toLowerCase();
                    }

                    while ((index = text.indexOf(word, startIndex)) !== -1) {
                      var hasMatch = false;
                      // 索引位置相同的关键词，保留长度较长的
                      titleHitSlice.forEach(function (hit) {
                        if (hit.index === index && hit.word.length < word.length) {
                          hit.word = word;
                          hasMatch = true;
                        }
                      });
                      startIndex = index + word.length;
                      !hasMatch && result.push({ index: index, word: word, weight: weight });
                    }
                    return result;
                  }
                  titleHitSlice = titleHitSlice.concat(getIndexByword(keyword, titleLower, false, WEIGHT.title));
                  contentHitSlice = contentHitSlice.concat(getIndexByword(keyword, contentLower, false, WEIGHT.content));
                });

                var hitTitle = titleHitSlice.length;
                var hitContent = contentHitSlice.length;

                if (hitTitle > 0 || hitContent > 0) {
                  isMatch = true;
                }
                if (isMatch) {
                  ;[titleHitSlice, contentHitSlice].forEach(function (hit) {
                    // 按照匹配文字的索引的递增顺序排序
                    hit.sort(function (left, right) {
                      return left.index - right.index;
                    });
                  });
                  /**
                  * 给文本中匹配到的关键词添加标记，从而进行高亮显示
                  * @param {String} text 原文本
                  * @param {Array} hitSlice 匹配项的索引信息
                  * @param {Number} start 开始索引
                  * @param {Number} end 结束索引
                  * @return {String}
                  */
                  function highlightKeyword(text, hitSlice, start, end) {
                    if (!text || !hitSlice || !hitSlice.length) {
                      return;
                    }

                    var result = '';
                    var startIndex = start;
                    var endIndex = end;
                    hitSlice.forEach(function (hit) {
                      if (hit.index < startIndex) {
                        return;
                      }

                      var hitWordEnd = hit.index + hit.word.length;
                      result += text.slice(startIndex, hit.index);
                      result += '<b>' + text.slice(hit.index, hitWordEnd) + '</b>';
                      startIndex = hitWordEnd;
                    });
                    result += text.slice(startIndex, endIndex);
                    return result;
                  }

                  var postData = {};
                  // 文章总的搜索权重
                  var postWeight = titleHitSlice.length * WEIGHT.title + contentHitSlice.length * WEIGHT.content;
                  // 标记匹配关键词后的标题
                  var postTitle = highlightKeyword(title, titleHitSlice, 0, title.length) || title;
                  // 标记匹配关键词后的内容
                  var postContent;
                  // 显示内容的长度
                  var SHOW_WORD_LENGTH = 200;
                  // 命中关键词前的字符显示长度
                  var SHOW_WORD_FRONT_LENGTH = 20;
                  var SHOW_WORD_END_LENGTH = SHOW_WORD_LENGTH - SHOW_WORD_FRONT_LENGTH;

                  // 截取匹配的第一个字符，前后共 200 个字符来显示
                  if (contentHitSlice.length > 0) {
                    var firstIndex = contentHitSlice[0].index;
                    var start = firstIndex > SHOW_WORD_FRONT_LENGTH ? firstIndex - SHOW_WORD_FRONT_LENGTH : 0;
                    var end = firstIndex + SHOW_WORD_END_LENGTH;
                    postContent = highlightKeyword(content, contentHitSlice, start, end);
                  } else { // 未匹配到内容，直接截取前 200 个字符来显示
                    postContent = content.slice(0, SHOW_WORD_LENGTH);
                  }
                  postData.title = postTitle;
                  postData.content = postContent;
                  postData.url = postURL;
                  postData.weight = postWeight;
                  matchPosts.push(postData);
                }
              });
            }

            var resultInnerHtml = '';
            if (matchPosts.length) {
              // 按权重递增的顺序排序，使权重大的优先显示
              matchPosts.sort(function (left, right) {
                return right.weight - left.weight;
              });
              resultInnerHtml += '<ul>';
              matchPosts.forEach(function (post) {
                resultInnerHtml += '<li><a class="search-results-title" href="' + post.url + '">';
                resultInnerHtml += post.title;
                resultInnerHtml += '</a><div class="search-results-content">';
                resultInnerHtml += post.content;
                resultInnerHtml += '</div></li>';
              });
              resultInnerHtml += '</ul>';
            } else {
              resultInnerHtml += '<div class="search-results-none"><i class="far fa-meh"></i></div>';
            }
            $result.html(resultInnerHtml);
          };
          $input.on('input', searchPost);
          $input.on('keyup', function (e) {
            if (e.keyCode === Stun.utils.codeToKeyCode('Enter')) {
              searchPost();
            }
          });
        }
      });
    }

    function closeSearch() {
      $('body').css({ overflow: 'auto' });
      $('.search-popup').css({ display: 'none' });
      $('.search-mask').css({ display: 'none' });
    }

    window.addEventListener('DOMContentLoaded', function () {
      Stun.utils.pjaxReloadLocalSearch = function () {
        $('.header-nav-search').on('click', function (e) {
          e.stopPropagation();
          $('body').css('overflow', 'hidden');
          $('.search-popup')
            .velocity('stop')
            .velocity('transition.expandIn', {
              duration: 300,
              complete: function () {
                $('.search-popup input').focus();
              }
            });
          $('.search-mask')
            .velocity('stop')
            .velocity('transition.fadeIn', {
              duration: 300
            });

          initSearch();
        });
        $('.search-mask, .search-close').on('click', function () {
          closeSearch();
        });
        $(document).on('keydown', function (e) {
          // Escape <=> 27
          if (e.keyCode === Stun.utils.codeToKeyCode('Escape')) {
            closeSearch();
          }
        });
      };

      Stun.utils.pjaxReloadLocalSearch();
    }, false);</script>
  <script src="static/js/pjax.min.js"></script>
  <script>window.addEventListener('DOMContentLoaded', function () {
      var pjax = new Pjax({ "selectors": ["head title", "#main", ".pjax-reload"], "history": true, "scrollTo": false, "scrollRestoration": false, "cacheBust": false, "debug": false, "currentUrlFullReload": false, "timeout": 0 });
      // 加载进度条的计时器
      var loadingTimer = null;

      // 重置页面 Y 方向上的滚动偏移量
      document.addEventListener('pjax:send', function () {
        $('.header-nav-menu').removeClass('show');
        if (CONFIG.pjax && CONFIG.pjax.avoidBanner) {
          $('html').velocity('scroll', {
            duration: 500,
            offset: $('#header').height(),
            easing: 'easeInOutCubic'
          });
        }

        var loadingBarWidth = 20;
        var MAX_LOADING_WIDTH = 95;

        $('.loading-bar').addClass('loading');
        $('.loading-bar__progress').css('width', loadingBarWidth + '%');
        clearInterval(loadingTimer);
        loadingTimer = setInterval(function () {
          loadingBarWidth += 3;
          if (loadingBarWidth > MAX_LOADING_WIDTH) {
            loadingBarWidth = MAX_LOADING_WIDTH;
          }
          $('.loading-bar__progress').css('width', loadingBarWidth + '%');
        }, 500);
      }, false);

      window.addEventListener('pjax:complete', function () {
        clearInterval(loadingTimer);
        $('.loading-bar__progress').css('width', '100%');
        $('.loading-bar').removeClass('loading');
        setTimeout(function () {
          $('.loading-bar__progress').css('width', '0');
        }, 400);
        $('link[rel=prefetch], script[data-pjax-rm]').each(function () {
          $(this).remove();
        });
        $('script[data-pjax], #pjax-reload script').each(function () {
          $(this).parent().append($(this).remove());
        });

        if (Stun.utils.pjaxReloadBoot) {
          Stun.utils.pjaxReloadBoot();
        }
        if (Stun.utils.pjaxReloadScroll) {
          Stun.utils.pjaxReloadScroll();
        }
        if (Stun.utils.pjaxReloadSidebar) {
          Stun.utils.pjaxReloadSidebar();
        }
        if (false) {
          if (Stun.utils.pjaxReloadHeader) {
            Stun.utils.pjaxReloadHeader();
          }
          if (Stun.utils.pjaxReloadScrollIcon) {
            Stun.utils.pjaxReloadScrollIcon();
          }
          if (Stun.utils.pjaxReloadLocalSearch) {
            Stun.utils.pjaxReloadLocalSearch();
          }
        }
      }, false);
    }, false);</script>
  <div id="pjax-reload">
    <script src="static/js/quicklink.umd.js"></script>
    <script>function initQuicklink() {
        quicklink({
          timeout: '10000',
          priority: true,
          ignores: [uri => uri.includes('#'), uri => uri === 'https://liuyib.github.io/2020/09/19/add-commits-to-others-pr/', /\/api\/?/, uri => uri.includes('.xml'), uri => uri.includes('.zip'), (uri, el) => el.hasAttribute('nofollow'), (uri, el) => el.hasAttribute('noprefetch')]
        });
      }

      if (true || false) {
        initQuicklink();
      } else {
        window.addEventListener('DOMContentLoaded', initQuicklink, false);
      }</script>
    <script src="static/js/bsz.pure.mini.js" async></script>
  </div>
  <script data-pjax="">function loadDisqus() {
      if (!document.getElementById('disqus_thread')) {
        return;
      }
      if (window.DISQUS) {
        DISQUS.reset({
          reload: true,
          config: function () {
            this.page.url = 'https://liuyib.github.io/2020/09/19/add-commits-to-others-pr/';
            this.page.identifier = '2020/09/19/add-commits-to-others-pr/';
            this.page.title = '优雅地修改他人贡献的 Pull Request';
          }
        });
      } else {
        var d = document;
        var sc = d.createElement('script');
        var se = d.createElement('script');

        if (true) {
          sc.src = 'https://liuyib.disqus.com/count.js';
          sc.id = 'dsq-count-scr';
          sc.async = true;
          if (true) {
            sc.setAttribute('data-pjax', '');
          }
          (d.head || d.body).appendChild(sc);
        }
        se.src = 'https://liuyib.disqus.com/embed.js';
        (d.head || d.body).appendChild(se);
      }
    }

    if (true) {
      loadDisqus();
    } else {
      window.addEventListener('DOMContentLoaded', loadDisqus, false);
    }</script>
  <script src="static/js/utils.js"></script>
  <script src="static/js/stun-boot.js"></script>
  <script src="static/js/scroll.js"></script>
  <script src="static/js/header.js"></script>
  <script src="static/js/sidebar.js"></script>
  <script type="application/json" src="static/js/search.js"></script>
</body>

</html>